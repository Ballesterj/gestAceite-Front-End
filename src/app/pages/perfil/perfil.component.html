<div class="profile-image-section">
    <div class="user-name">PERFIL</div>
    <div class="profile-image">
      <img src="../../../assets/img/profile-defect.png" alt="Foto de perfil">
    </div>
  </div>
  
  <div class="white-line"></div>
  
  <div class="form-section">
    <form (ngSubmit)="guardarPerfil()" #perfilForm="ngForm" class="perfil-form">
      <div class="form-row">
        <div class="form-group">
          <label for="name">Nombre</label>
          <input type="text" id="name" name="name" [(ngModel)]="user.name" required class="form-control" placeholder="Ingrese su nombre" #name="ngModel" />
          <div *ngIf="name.invalid && name.touched" class="error-message">El nombre es requerido.</div>
        </div>
        <div class="form-group">
          <label for="email">Correo Electrónico</label>
          <input type="email" id="email" name="email" [(ngModel)]="user.email" required email class="form-control" placeholder="Ingrese su correo electrónico" #email="ngModel" />
          <div *ngIf="email.invalid && email.touched" class="error-message">El correo electrónico es requerido y debe ser válido.</div>
        </div>
      </div>
  
      <div class="form-row">
        <div class="form-group">
            <label for="phone">Teléfono</label>
            <input type="text" id="phone" name="phone" [(ngModel)]="user.phone" required class="form-control" placeholder="Ingrese su teléfono" #phone="ngModel" 
                   pattern="^[0-9]{9}$" />
            <div *ngIf="phone.invalid && phone.touched" class="error-message">
              El teléfono debe ser un número de 9 dígitos.
            </div>
          </div>
          
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input type="password" id="password" name="password" [(ngModel)]="user.password" class="form-control" placeholder="Ingrese su nueva contraseña" #password="ngModel" />
          <div *ngIf="password.invalid && password.touched" class="error-message">La contraseña es requerida.</div>
        </div>
      </div>
  
      <div class="form-row">
        <!-- Campo de Rol -->
        <div class="form-group">
            <label for="rol">Rol</label>
            <input type="text" id="rol" name="rol" [(ngModel)]="user.rol" class="form-control" [value]="user.rol" readonly />
        </div>
    
        <!-- Campo de Cooperativa SIEMPRE visible -->
        <div class="form-group">
            <label for="cooperativa">Cooperativa</label>
            <input type="text" id="cooperativa" name="cooperativa" [(ngModel)]="user.cooperativa" 
                   class="form-control" placeholder="Sin cooperativa" #cooperativa="ngModel" readonly/>
        </div>
      </div>
    
  
      <button type="submit" [disabled]="perfilForm.invalid" class="btn btn-primary">Guardar</button>
    </form>
    <button (click)="closeSession()" class="btn-close-session">Cerrar sesión</button>
  </div>